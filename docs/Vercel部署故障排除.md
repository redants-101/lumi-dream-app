# ğŸš¨ Vercel éƒ¨ç½²æ•…éšœæ’é™¤æŒ‡å—

## å½“å‰é—®é¢˜ï¼šéƒ¨ç½²è¾“å‡ºé˜¶æ®µå¤±è´¥

### é”™è¯¯ä¿¡æ¯
```
Deploying outputs...
An unexpected error happened when running this build.
```

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆï¼ˆæŒ‰é¡ºåºå°è¯•ï¼‰

### æ–¹æ¡ˆ 1ï¼šç«‹å³é‡æ–°éƒ¨ç½² âš¡ï¼ˆæ¨èï¼‰

**åŸå› **ï¼šè¿™é€šå¸¸æ˜¯ Vercel å¹³å°çš„ä¸´æ—¶é—®é¢˜ï¼ˆç½‘ç»œæ³¢åŠ¨ã€æœåŠ¡å™¨å¿™ç¢Œç­‰ï¼‰

**æ“ä½œæ­¥éª¤**ï¼š

1. **è®¿é—® Vercel Dashboard**  
   https://vercel.com/dashboard

2. **æ‰¾åˆ°å¤±è´¥çš„éƒ¨ç½²**  
   - è¿›å…¥ä½ çš„é¡¹ç›®
   - ç‚¹å‡» "Deployments" æ ‡ç­¾
   - æ‰¾åˆ°æ ‡è®°ä¸º "Failed" çš„éƒ¨ç½²

3. **é‡æ–°éƒ¨ç½²**  
   - ç‚¹å‡»å¤±è´¥éƒ¨ç½²å³ä¾§çš„ **"â‹¯"** èœå•
   - é€‰æ‹© **"Redeploy"**
   - ç­‰å¾… 1-2 åˆ†é’Ÿ

**æˆåŠŸç‡**ï¼š90%

---

### æ–¹æ¡ˆ 2ï¼šæ¨é€æ–°æäº¤è§¦å‘éƒ¨ç½²

å¦‚æœæ–¹æ¡ˆ 1 ä¸è¡Œï¼Œåˆ›å»ºä¸€ä¸ªç©ºæäº¤è§¦å‘æ–°éƒ¨ç½²ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
git commit --allow-empty -m "è§¦å‘ Vercel é‡æ–°éƒ¨ç½²"
git push origin main
```

Vercel ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ–°æäº¤å¹¶å¼€å§‹éƒ¨ç½²ã€‚

---

### æ–¹æ¡ˆ 3ï¼šæ£€æŸ¥ Vercel é…ç½®

#### 3.1 éªŒè¯ç¯å¢ƒå˜é‡ï¼ˆå¿…éœ€ï¼‰

åœ¨ Vercel Dashboard ä¸­æ£€æŸ¥ï¼š

**Settings** â†’ **Environment Variables**

å¿…éœ€çš„ç¯å¢ƒå˜é‡ï¼š

| å˜é‡å | ç¤ºä¾‹å€¼ | ç¯å¢ƒ |
|--------|--------|------|
| `OPENROUTER_API_KEY` | `sk-or-v1-xxxxxxxxxx` | Production, Preview, Development |
| `NEXT_PUBLIC_SUPABASE_URL` | `https://xxxxx.supabase.co` | Production, Preview, Development |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | `eyJhbGciOi...` | Production, Preview, Development |

#### 3.2 éªŒè¯æ„å»ºè®¾ç½®

**Settings** â†’ **General** â†’ **Build & Development Settings**

ç¡®è®¤é…ç½®ï¼š

```plaintext
Framework Preset: Next.js
Build Command: pnpm build (æˆ–ç•™ç©ºï¼Œè‡ªåŠ¨æ£€æµ‹)
Output Directory: .next (æˆ–ç•™ç©ºï¼Œè‡ªåŠ¨æ£€æµ‹)
Install Command: pnpm install (æˆ–ç•™ç©ºï¼Œè‡ªåŠ¨æ£€æµ‹)
```

---

### æ–¹æ¡ˆ 4ï¼šæ£€æŸ¥ Vercel æœåŠ¡çŠ¶æ€

è®¿é—® Vercel çŠ¶æ€é¡µé¢ï¼š  
ğŸ”— https://www.vercel-status.com/

å¦‚æœæ˜¾ç¤º "Incident" æˆ– "Degraded Performance"ï¼Œç­‰å¾… Vercel ä¿®å¤åå†éƒ¨ç½²ã€‚

---

### æ–¹æ¡ˆ 5ï¼šæ£€æŸ¥é¡¹ç›®å¤§å°é™åˆ¶

Vercel å…è´¹è®¡åˆ’é™åˆ¶ï¼š
- **æ„å»ºè¾“å‡ºå¤§å°**ï¼š< 100 MB
- **Serverless Function å¤§å°**ï¼š< 50 MB

æ£€æŸ¥ä½ çš„é¡¹ç›®ï¼š

```bash
# æ£€æŸ¥ .next æ–‡ä»¶å¤¹å¤§å°
Get-ChildItem .next -Recurse | Measure-Object -Property Length -Sum

# å¦‚æœè¾“å‡ºè¶…è¿‡ 100 MBï¼Œéœ€è¦ä¼˜åŒ–
```

**ä¼˜åŒ–å»ºè®®**ï¼š
- åˆ é™¤æœªä½¿ç”¨çš„ä¾èµ–
- å¯ç”¨ Next.js Image Optimization
- ä½¿ç”¨åŠ¨æ€å¯¼å…¥å‡å°‘åˆå§‹åŒ…å¤§å°

---

### æ–¹æ¡ˆ 6ï¼šæ¸…ç† Vercel ç¼“å­˜

æœ‰æ—¶ Vercel çš„ç¼“å­˜ä¼šå¯¼è‡´é—®é¢˜ï¼š

1. è¿›å…¥ Vercel Dashboard
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. **Settings** â†’ **General**
4. æ»šåŠ¨åˆ°æœ€ä¸‹æ–¹
5. ç‚¹å‡» **"Clear Build Cache"**
6. é‡æ–°éƒ¨ç½²

---

### æ–¹æ¡ˆ 7ï¼šè”ç³» Vercel æ”¯æŒ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ä¸è¡Œï¼š

1. **æ”¶é›†ä¿¡æ¯**ï¼š
   - å¤±è´¥éƒ¨ç½²çš„ URL
   - å®Œæ•´çš„æ„å»ºæ—¥å¿—ï¼ˆå¤åˆ¶å…¨éƒ¨ï¼‰
   - é”™è¯¯å‘ç”Ÿçš„æ—¶é—´

2. **è”ç³»æ”¯æŒ**ï¼š
   - å…è´¹è®¡åˆ’ï¼šhttps://vercel.com/help
   - ä»˜è´¹è®¡åˆ’ï¼šDashboard â†’ Support â†’ New Ticket

---

## ğŸ” å¸¸è§åŸå› åˆ†æ

### 1. Vercel å¹³å°ä¸´æ—¶é—®é¢˜ï¼ˆæœ€å¸¸è§ï¼‰
- **ç—‡çŠ¶**ï¼šæ„å»ºæˆåŠŸï¼Œéƒ¨ç½²è¾“å‡ºå¤±è´¥
- **è§£å†³**ï¼šé‡æ–°éƒ¨ç½²å³å¯
- **æ¦‚ç‡**ï¼š70%

### 2. ç½‘ç»œæ³¢åŠ¨
- **ç—‡çŠ¶**ï¼šéƒ¨ç½²æ—¶é—´å¼‚å¸¸é•¿æˆ–çªç„¶ä¸­æ–­
- **è§£å†³**ï¼šç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•
- **æ¦‚ç‡**ï¼š15%

### 3. ç¯å¢ƒå˜é‡ç¼ºå¤±
- **ç—‡çŠ¶**ï¼šæ„å»ºæˆåŠŸä½†è¿è¡Œæ—¶é”™è¯¯
- **è§£å†³**ï¼šæ£€æŸ¥å¹¶è¡¥å……ç¯å¢ƒå˜é‡
- **æ¦‚ç‡**ï¼š10%

### 4. ä¾èµ–å®‰è£…é—®é¢˜
- **ç—‡çŠ¶**ï¼špnpm-lock.yaml æŸåæˆ–ç‰ˆæœ¬å†²çª
- **è§£å†³**ï¼šæœ¬åœ°åˆ é™¤ node_modules å’Œ pnpm-lock.yamlï¼Œé‡æ–° `pnpm install`
- **æ¦‚ç‡**ï¼š3%

### 5. é¡¹ç›®é…ç½®é—®é¢˜
- **ç—‡çŠ¶**ï¼šnext.config.mjs é…ç½®é”™è¯¯
- **è§£å†³**ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
- **æ¦‚ç‡**ï¼š2%

---

## âœ… æˆåŠŸéƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²æˆåŠŸåï¼ŒéªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š

### åŸºç¡€åŠŸèƒ½
- [ ] è®¿é—®åº”ç”¨ URLï¼ˆhttps://ä½ çš„é¡¹ç›®.vercel.appï¼‰
- [ ] é¦–é¡µæ­£å¸¸æ˜¾ç¤º
- [ ] è¾“å…¥æ¢¦å¢ƒæè¿°
- [ ] ç‚¹å‡» "Illuminate My Dream"
- [ ] æŸ¥çœ‹ AI è§£æç»“æœ

### ç¤¾äº¤ç™»å½•ï¼ˆå¦‚å·²é…ç½®ï¼‰
- [ ] GitHub ç™»å½•æ­£å¸¸
- [ ] Google ç™»å½•æ­£å¸¸
- [ ] ç”¨æˆ·ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
- [ ] ç™»å‡ºåŠŸèƒ½æ­£å¸¸

### å…¶ä»–é¡µé¢
- [ ] /privacy éšç§æ”¿ç­–é¡µé¢
- [ ] /auth/auth-code-error é”™è¯¯é¡µé¢

---

## ğŸ“Š Vercel éƒ¨ç½²æ—¶é—´å‚è€ƒ

æ­£å¸¸æƒ…å†µä¸‹ï¼š

| é˜¶æ®µ | è€—æ—¶ |
|------|------|
| å…‹éš†ä»“åº“ | 5-10 ç§’ |
| å®‰è£…ä¾èµ–ï¼ˆpnpmï¼‰ | 15-30 ç§’ |
| æ„å»º Next.js | 20-40 ç§’ |
| éƒ¨ç½²è¾“å‡º | 5-15 ç§’ |
| **æ€»è®¡** | **1-2 åˆ†é’Ÿ** |

å¦‚æœè¶…è¿‡ 5 åˆ†é’Ÿï¼Œå¯èƒ½æœ‰é—®é¢˜ã€‚

---

## ğŸ†˜ å¿«é€Ÿè¯Šæ–­å‘½ä»¤

### æ£€æŸ¥æœ¬åœ°æ„å»º
```bash
# ç¡®ä¿æœ¬åœ°å¯ä»¥æˆåŠŸæ„å»º
pnpm build

# æ£€æŸ¥æ„å»ºè¾“å‡º
ls -lh .next
```

### æ£€æŸ¥ Git çŠ¶æ€
```bash
# ç¡®ä¿æ‰€æœ‰æ›´æ”¹å·²æäº¤
git status

# ç¡®ä¿å·²æ¨é€åˆ°è¿œç¨‹
git log origin/main..HEAD
```

### æ£€æŸ¥ pnpm é”å®šæ–‡ä»¶
```bash
# ç¡®ä¿ pnpm-lock.yaml å­˜åœ¨
Test-Path pnpm-lock.yaml

# ç¡®ä¿ package-lock.json ä¸å­˜åœ¨
Test-Path package-lock.json  # åº”è¿”å› False
```

---

## ğŸ’¡ é¢„é˜²æªæ–½

### 1. æœ¬åœ°æµ‹è¯•ç”Ÿäº§æ„å»º
```bash
pnpm build
pnpm start
```

è®¿é—® http://localhost:3000 ç¡®ä¿ç”Ÿäº§ç‰ˆæœ¬è¿è¡Œæ­£å¸¸ã€‚

### 2. ä½¿ç”¨ Vercel CLI æœ¬åœ°æµ‹è¯•
```bash
# å®‰è£… Vercel CLI
pnpm add -g vercel

# æœ¬åœ°æµ‹è¯•éƒ¨ç½²
vercel dev
```

### 3. å¯ç”¨ Vercel é¢„è§ˆéƒ¨ç½²
æ¯æ¬¡æ¨é€åˆ°åˆ†æ”¯æ—¶ï¼ŒVercel ä¼šåˆ›å»ºé¢„è§ˆéƒ¨ç½²ï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œï¼ˆ5 åˆ†é’Ÿå†…ï¼‰

1. âœ… åœ¨ Vercel Dashboard æ‰¾åˆ°å¤±è´¥çš„éƒ¨ç½²
2. âœ… ç‚¹å‡» "Redeploy" é‡æ–°éƒ¨ç½²
3. âœ… ç­‰å¾… 1-2 åˆ†é’ŸæŸ¥çœ‹ç»“æœ

### å¦‚æœé‡æ–°éƒ¨ç½²æˆåŠŸ

- ğŸ‰ æ­å–œï¼é—®é¢˜å·²è§£å†³
- ğŸ“ è¿™æ˜¯ Vercel å¹³å°çš„ä¸´æ—¶é—®é¢˜
- âœ… æœªæ¥é‡åˆ°ç±»ä¼¼æƒ…å†µï¼Œç›´æ¥é‡æ–°éƒ¨ç½²å³å¯

### å¦‚æœé‡æ–°éƒ¨ç½²ä»å¤±è´¥

1. æ£€æŸ¥ Vercel æœåŠ¡çŠ¶æ€
2. éªŒè¯ç¯å¢ƒå˜é‡é…ç½®
3. æ¸…ç† Vercel ç¼“å­˜
4. æ¨é€æ–°æäº¤è§¦å‘éƒ¨ç½²
5. è”ç³» Vercel æ”¯æŒ

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Vercel éƒ¨ç½²å®Œæ•´æŒ‡å—](./VERCEL_DEPLOYMENT.md)
- [ç¯å¢ƒå˜é‡é…ç½®](./ENV_SETUP.md)
- [Supabase å¿«é€Ÿå¼€å§‹](./SUPABASE_QUICK_START.md)

---

**ç¥ä½ éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€**

_æœ€åæ›´æ–°ï¼š2025-10-20_

